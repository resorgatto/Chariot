@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    --background: 24 100% 98%;
    --foreground: 24 35% 12%;

    --card: 24 100% 99%;
    --card-foreground: 24 35% 12%;

    --popover: 24 100% 99%;
    --popover-foreground: 24 35% 12%;

    --primary: 30 90% 55%;
    --primary-foreground: 24 100% 98%;

    --secondary: 30 35% 92%;
    --secondary-foreground: 24 35% 18%;

    --muted: 30 20% 90%;
    --muted-foreground: 25 18% 40%;

    --accent: 24 90% 60%;
    --accent-foreground: 24 100% 98%;

    --destructive: 0 78% 58%;
    --destructive-foreground: 24 100% 98%;

    --border: 28 22% 85%;
    --input: 28 22% 85%;
    --ring: 30 90% 55%;

    --radius: 0.5rem;
  }

  .dark {
    --background: 24 18% 10%;
    --foreground: 24 22% 94%;

    --card: 24 18% 12%;
    --card-foreground: 24 22% 94%;

    --popover: 24 18% 12%;
    --popover-foreground: 24 22% 94%;

    --primary: 30 90% 58%;
    --primary-foreground: 24 100% 98%;

    --secondary: 24 18% 18%;
    --secondary-foreground: 24 22% 92%;

    --muted: 24 16% 20%;
    --muted-foreground: 24 24% 75%;

    --accent: 24 85% 60%;
    --accent-foreground: 24 100% 98%;

    --destructive: 0 70% 50%;
    --destructive-foreground: 24 100% 98%;

    --border: 24 20% 24%;
    --input: 24 20% 24%;
    --ring: 30 90% 58%;
  }
}

@layer base {
  * {
    @apply border-border;
  }
  body {
    @apply bg-background text-foreground;
    font-family: 'Inter', 'DM Sans', sans-serif;
    background:
      radial-gradient(circle at 20% 15%, rgba(255, 180, 120, 0.16), transparent 42%),
      radial-gradient(circle at 78% 5%, rgba(255, 206, 150, 0.12), transparent 36%),
      linear-gradient(135deg, hsl(var(--background)), hsl(var(--accent) / 0.12));
  }

  .dark body {
    background:
      radial-gradient(120% 120% at 15% 10%, rgba(255, 153, 94, 0.18), transparent 55%),
      radial-gradient(90% 90% at 90% 8%, rgba(255, 193, 120, 0.16), transparent 45%),
      linear-gradient(145deg, #0f0a09 0%, #1a100c 38%, #22130c 100%);
  }

  /* Harmonizar caixas e pop-ups no dark mode */
  .dark .bg-white {
    background-color: hsl(var(--card)) !important;
    color: hsl(var(--card-foreground));
  }
  .dark .bg-white\/80 {
    background-color: color-mix(in srgb, hsl(var(--card)) 80%, transparent) !important;
    color: hsl(var(--card-foreground));
  }
  .dark .bg-white\/70 {
    background-color: color-mix(in srgb, hsl(var(--card)) 70%, transparent) !important;
    color: hsl(var(--card-foreground));
  }
  .dark .bg-white\/50 {
    background-color: color-mix(in srgb, hsl(var(--card)) 50%, transparent) !important;
    color: hsl(var(--card-foreground));
  }
  .dark .leaflet-popup-content-wrapper {
    background: hsl(var(--card));
    color: hsl(var(--card-foreground));
    border: 1px solid hsl(var(--border));
  }
  .dark .leaflet-popup-tip {
    background: hsl(var(--card));
  }

  /* Ajustar textos escuros para o foreground no dark mode */
  .dark .text-gray-900,
  .dark .text-slate-900,
  .dark .text-black {
    color: hsl(var(--foreground)) !important;
  }

  /* Garantir pop-ups acima do mapa */
  .leaflet-pane,
  .leaflet-map-pane,
  .leaflet-popup-pane {
    z-index: 400;
  }
  .leaflet-popup {
    z-index: 450;
  }

  /* For√ßar agenda O.S. clara mesmo no dark */
  .dark .service-board-light {
    background: #fff !important;
    color: #1f2937 !important;
  }
  .dark .service-board-light .bg-white {
    background-color: #fff !important;
    color: #1f2937 !important;
  }
  .dark .service-board-light .bg-slate-50,
  .dark .service-board-light .bg-slate-50\/30,
  .dark .service-board-light .bg-[#f0f4f8] {
    background-color: #f8fafc !important;
    color: #1f2937 !important;
  }

  /* Minimapa do dashboard claro no dark mode (escopo apenas no dashboard) */
  .dark .dashboard-map.leaflet-container,
  .dark .dashboard-map .leaflet-container {
    background: #fff !important;
  }
  .dark .dashboard-map .leaflet-tile {
    filter: none !important;
  }
}
